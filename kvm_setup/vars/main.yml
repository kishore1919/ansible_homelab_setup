---
kvm_image_pool: "/var/lib/libvirt/images"
base_image_name: "jammy-server-cloudimg-amd64"
kvm_image_url: "https://cloud-images.ubuntu.com/jammy/current/{{ base_image_name }}.img"
kvm_image_checksum: "sha256:CHANGE_ME"
kvm_vm_name: "ubuntu-server-vm"
vm_ram_mb: 2048
vm_vcpus: 2
vm_disk_size: "20G"
os_variant: "ubuntu22.04"
network: "default"
cpu_model: "host-passthrough"


user_data:
  #cloud-config
  users:
    - name: ubuntu
      sudo: ALL=(ALL) NOPASSWD:ALL
      groups: sudo
      shell: /bin/bash
  chpasswd:
    list: |
      ubuntu: "{{ user_password | default('ubuntu') }}"
    expire: False
  package_update: true
  packages:
    - qemu-guest-agent
  ssh_pwauth: true

meta_data:
  instance-id: "{{ kvm_vm_name }}"
  local-hostname: "{{ kvm_vm_name }}"
